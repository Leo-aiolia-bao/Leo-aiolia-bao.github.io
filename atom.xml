<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://Leo-aiolia-bao.github.io</id>
    <title>leo-bao</title>
    <updated>2021-04-24T07:54:40.951Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://Leo-aiolia-bao.github.io"/>
    <link rel="self" href="https://Leo-aiolia-bao.github.io/atom.xml"/>
    <subtitle>ç§‘å­¦æ´¾ | Think twice, code once</subtitle>
    <logo>https://Leo-aiolia-bao.github.io/images/avatar.png</logo>
    <icon>https://Leo-aiolia-bao.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, leo-bao</rights>
    <entry>
        <title type="html"><![CDATA[C/C++é‡å®šå‘]]></title>
        <id>https://Leo-aiolia-bao.github.io/post/ccchong-ding-xiang/</id>
        <link href="https://Leo-aiolia-bao.github.io/post/ccchong-ding-xiang/">
        </link>
        <updated>2021-04-24T07:41:25.000Z</updated>
        <content type="html"><![CDATA[<p>C/C++é‡å®šå‘ æ ‡å‡†è¾“å…¥è¾“å‡º çš„åº“å‡½æ•°ã€‚</p>
<p>æ‰€è°“é‡å®šå‘è¾“å‡ºï¼Œå°±æ˜¯å¯ä»¥æŠŠåŸæœ¬åªæ˜¯è¾“å‡ºåœ¨æ§åˆ¶å°çš„å­—ç¬¦ï¼Œè¾“å‡ºåˆ°ä½ æŒ‡å®šçš„è·¯å¾„æ–‡ä»¶ä¸­ã€‚(è¾“å…¥ç±»ä¼¼ï¼Œå°±æ˜¯ä»æŒ‡å®šçš„æ–‡ä»¶ä¸­è¯»å–ï¼Œè€Œä¸æ˜¯è¯»å–åœ¨æ§åˆ¶å°ä¸­çš„è¾“å…¥ã€‚)é‡å®šå‘å‡½æ•°å¯ä»¥åœ¨ä»»ä½•æ—¶å€™å¼€å¯ã€å…³é—­ã€‚</p>
<p>å‡½æ•°åï¼šfreopen</p>
<p>æ ‡å‡†å£°æ˜ï¼šFILE *freopen( const char *path, const char *mode, FILE *stream );</p>
<p>æ‰€åœ¨æ–‡ä»¶ï¼š &lt;stdio.h&gt;</p>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<p>path: æ–‡ä»¶åï¼Œç”¨äºå­˜å‚¨è¾“å…¥è¾“å‡ºçš„è‡ªå®šä¹‰æ–‡ä»¶åã€‚</p>
<p>mode: æ–‡ä»¶æ‰“å¼€çš„æ¨¡å¼ã€‚å’Œfopenä¸­çš„æ¨¡å¼ï¼ˆå¦‚r-åªè¯», w-å†™ï¼‰ç›¸åŒã€‚</p>
<p>stream: ä¸€ä¸ªæ–‡ä»¶ï¼Œé€šå¸¸ä½¿ç”¨æ ‡å‡†æµæ–‡ä»¶ã€‚</p>
<p>è¿”å›å€¼ï¼šæˆåŠŸï¼Œåˆ™è¿”å›ä¸€ä¸ªpathæ‰€æŒ‡å®šæ–‡ä»¶çš„æŒ‡é’ˆï¼›å¤±è´¥ï¼Œè¿”å›NULLã€‚</p>
<p>åŠŸèƒ½ï¼šå®ç°é‡å®šå‘ï¼ŒæŠŠé¢„å®šä¹‰çš„æ ‡å‡†æµæ–‡ä»¶å®šå‘åˆ°ç”±pathæŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚æ ‡å‡†æµæ–‡ä»¶å…·ä½“æ˜¯æŒ‡stdinã€stdoutå’Œstderrã€‚å…¶ä¸­stdinæ˜¯æ ‡å‡†è¾“å…¥æµï¼Œé»˜è®¤ä¸ºé”®ç›˜ï¼›stdoutæ˜¯æ ‡å‡†è¾“å‡ºæµï¼Œé»˜è®¤ä¸ºå±å¹•ï¼›stderræ˜¯æ ‡å‡†é”™è¯¯æµï¼Œä¸€èˆ¬æŠŠå±å¹•è®¾ä¸ºé»˜è®¤ã€‚</p>
<p>æ³¨æ„freopen()çš„åœ°å€æ ¼å¼ï¼å¿…é¡»æ˜¯åŒæ–œæ \ !!!!</p>
<pre><code class="language-c">
#include&lt;iostream&gt;
#include&lt;stdio.h&gt;
using namespace std;
//0x3f3f3f3fä¸ºæ— ç©·å¤§å¸¸é‡ï¼ˆä¸€ä¸ª10^9æ•°é‡çº§çš„æ•°ï¼‰ 
#define INF 0x3f3f3f3f
void swap(int &amp;x,int &amp;y){ //äº¤æ¢æ•°å€¼
	x^=y;
	y^=x;
	x^=y;
}
int main()
{
	//æ³¨æ„freopen()çš„åœ°å€æ ¼å¼ï¼å¿…é¡»æ˜¯åŒæ–œæ \\ !!!! 
	freopen(&quot;D:\\CZHSoftware\\Cè¯­è¨€\\Devç¼–ç¨‹h\\freopen\\freopenTest.txt&quot;,&quot;w&quot;,stdout);
	freopen(&quot;D:\\CZHSoftware\\Cè¯­è¨€\\Devç¼–ç¨‹h\\freopen\\freopenTest1.txt&quot;,&quot;r&quot;,stdin);
	int a=0,b=0;
	cout&lt;&lt;&quot;hello world&quot;&lt;&lt;endl;
	cin&gt;&gt;a&gt;&gt;b;
	swap(a,b);
	cout&lt;&lt;&quot;a=&quot;&lt;&lt;a&lt;&lt;&quot;,b=&quot;&lt;&lt;b&lt;&lt;endl;
	cout&lt;&lt;&quot;a+b=&quot;&lt;&lt;a+b&lt;&lt;endl;
	fclose(stdin);
	fclose(stdout);
	return 0;
} 
</code></pre>
<p>freopen(&quot;D:\CZHSoftware\Cè¯­è¨€\Devç¼–ç¨‹h\freopen\freopenTest1.txt&quot;,&quot;r&quot;,stdin)çš„ä½œç”¨å°±æ˜¯æŠŠæ ‡å‡†è¾“å…¥æµstdiné‡å®šå‘åˆ°D:\CZHSoftware\Cè¯­è¨€\Devç¼–ç¨‹h\freopen\freopenTest1.txtæ–‡ä»¶ä¸­ï¼Œè¿™æ ·åœ¨ç”¨scanfæˆ–æ˜¯ç”¨cinè¾“å…¥æ—¶ä¾¿ä¸ä¼šä»æ ‡å‡†è¾“å…¥æµè¯»å–æ•°æ®,è€Œæ˜¯ä»freopenTest1.txtæ–‡ä»¶ä¸­è·å–è¾“å…¥ã€‚åªè¦æŠŠè¾“å…¥æ•°æ®äº‹å…ˆç²˜è´´åˆ°freopenTest1.txtä¸­å³å¯ã€‚</p>
<p>ç±»ä¼¼çš„ï¼Œfreopen(&quot;D:\CZHSoftware\Cè¯­è¨€\Devç¼–ç¨‹h\freopen\freopenTest.txt&quot;,&quot;w&quot;,stdout)çš„ä½œç”¨å°±æ˜¯æŠŠstdouté‡å®šå‘åˆ°D:\CZHSoftware\Cè¯­è¨€\Devç¼–ç¨‹h\freopen\freopenTest.txtæ–‡ä»¶ä¸­ï¼Œè¿™æ ·è¾“å‡ºç»“æœå°±å¯ä»¥é€šè¿‡æ‰“å¼€freopenTest.txtæ–‡ä»¶æŸ¥çœ‹ã€‚</p>
<p></p>
<p>ä¸Šé¢ç¨‹åºè¿è¡Œæ„æ€ï¼š</p>
<p>æ¯”å¦‚freopenTest1.txtä¸­æ•°æ®æ˜¯2 3ï¼Œ</p>
<p>åˆ™freopenTest.txtä¸­å†™å…¥äº†</p>
<p>hello world<br>
a=3,b=2<br>
a+b=5</p>
<p>å¦‚é¢˜ï¼š</p>
<pre><code class="language-c++">
/*
	ç§Ÿç”¨æ¸¸è‰‡é—®é¢˜
	DPæ±‚è§£
	2021å¹´4æœˆ24æ—¥
	å‘¨å…­
	
*/
#include &lt;iostream&gt;
#include &lt;cstring&gt;
#include &lt;cstdio&gt;

using namespace std;

const int N = 210;  // é¢˜ç›®è¦æ±‚ä¸Šé™n

int r[N][N];  // å‡ºç§Ÿç«™i åˆ°å‡ºç§Ÿç«™jä¹‹é—´çš„ç§Ÿé‡‘ r(i,j)

// æ±‚æœ€å°‘ å‡ºç§Ÿç«™i åˆ°å‡ºç§Ÿç«™jä¹‹é—´çš„ç§Ÿé‡‘
 
int getMinRent(int n)
{
	int dp[200]; // dp[i] æ˜¯ä»å‡ºç§Ÿç«™1 åˆ° å‡ºç§Ÿç«™nçš„æœ€å°‘ç§Ÿé‡‘
	
	dp[1] = 0 ; // åˆå§‹åŒ–  èµ·å§‹ä½ç½®
	
	dp[2] = r[1][2];  // åˆå§‹åŒ–  1ç«™åˆ°2ç«™
	
	for( int i = 3; i&lt;=n ;i++)
	{
		dp[i] = r[1][i]; // åˆå§‹åŒ–dp[i] ä¸ºç¬¬ä¸€ç«™åˆ°iç«™çš„ç§Ÿé‡‘
		
		for( int j = 2 ; j &lt; i ; j ++)
		{
			dp[i] = min( dp[i], dp[j] + r[j][i]);
			//çŠ¶æ€è½¬ç§»æ–¹ç¨‹
		}
	}
	return dp[n];  // è¿”å› 1 åˆ° n ç«™çš„æœ€çŸ­è·ç¦» å³æ‰€æ±‚
	
}



int main()
{
	freopen(&quot;D:\\course\\Junior_seconde_term\\algorithm\\class1file\\homework\\0424\\input.txt&quot;,&quot;r&quot;, stdin);
	freopen(&quot;D:\\course\\Junior_seconde_term\\algorithm\\class1file\\homework\\0424\\output.txt&quot;,&quot;w&quot;, stdout);
	
	int n ; 
	
	cin &gt;&gt; n;  // nä¸ªç«™
	
	for(int i = 1; i &lt; n; i++)
	{
		for(int j = i + 1; j &lt;= n; j++)
		{
			// scanf(&quot;%d&quot;, &amp; r[i][j]);
			cin &gt;&gt; r[i][j] ;
		}
	}
	
	cout &lt;&lt; &quot;The least cost is :&quot; &lt;&lt; getMinRent(n) &lt;&lt; endl;
	
	return 0;
}

</code></pre>
<p></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ’åˆ—æ•°å­—(å­—å…¸åº)]]></title>
        <id>https://Leo-aiolia-bao.github.io/post/pai-lie-shu-zi-zi-dian-xu/</id>
        <link href="https://Leo-aiolia-bao.github.io/post/pai-lie-shu-zi-zi-dian-xu/">
        </link>
        <updated>2021-04-07T12:30:23.000Z</updated>
        <content type="html"><![CDATA[<p><strong>é¢˜ç›®æè¿°ï¼š</strong></p>
<p>ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œå°†æ•°å­— 1âˆ¼n æ’æˆä¸€æ’ï¼Œå°†ä¼šæœ‰å¾ˆå¤šç§æ’åˆ—æ–¹æ³•ã€‚</p>
<p>ç°åœ¨ï¼Œè¯·ä½ æŒ‰ç…§å­—å…¸åºå°†æ‰€æœ‰çš„æ’åˆ—æ–¹æ³•è¾“å‡ºã€‚</p>
<p><strong>è¾“å…¥æ ¼å¼</strong><br>
å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•° nã€‚</p>
<p><strong>è¾“å‡ºæ ¼å¼</strong><br>
æŒ‰å­—å…¸åºè¾“å‡ºæ‰€æœ‰æ’åˆ—æ–¹æ¡ˆï¼Œæ¯ä¸ªæ–¹æ¡ˆå ä¸€è¡Œã€‚</p>
<p><strong>æ•°æ®èŒƒå›´</strong><br>
1â‰¤nâ‰¤7<br>
<strong>è¾“å…¥æ ·ä¾‹ï¼š</strong><br>
3<br>
<strong>è¾“å‡ºæ ·ä¾‹</strong>ï¼š<br>
1 2 3<br>
1 3 2<br>
2 1 3<br>
2 3 1<br>
3 1 2<br>
3 2 1</p>
<p>dfs() :<br>
æ­¤é¢˜ä¸­dfsè¡¨ç¤ºçš„å«ä¹‰æ˜¯ï¼šæ±‚å‡ºä»ç¬¬uè¡Œåˆ°æœ€åä¸€è¡Œçš„æ‰€æœ‰pathã€‚<br>
dfsçš„æ±‚æ³•ï¼šæ ¹æ®é€šé¡¹å…¬å¼çš„å«ä¹‰ï¼Œå‡è®¾å·²çŸ¥ç¬¬u+1è¡Œåˆ°æœ€åä¸€è¡Œçš„æ‰€æœ‰pathï¼Œç»¼åˆ1å’Œ2å¾—å‡ºï¼špath[u] ä¸ path[u+1] åˆå¹¶åï¼Œå³ä¸ºdfsçš„è§£ã€‚</p>
<h4 id="ä»£ç ">ä»£ç </h4>
<pre><code class="language-c">#include &lt;iostream&gt;
using namespace std;

const int N = 10;
int path[N];
bool st[N];
int n;



void dfs(int u)
{
    if(u == n )
   {        //å­˜å‚¨ä»0
       for(int i = 0 ;i &lt; n; i++) cout &lt;&lt; path[i] &lt;&lt; ' ' ;
        cout &lt;&lt; endl; // puts(&quot;&quot;);
        return ;
   }
   
    //æ•°å­—ä»1å¼€å§‹å­˜å‚¨æ‰“å°
    for(int i = 1; i&lt;= n; i++){
        if(!st[i])
        {
            path[u] = i;  // å­˜å‚¨å½“å‰ è·¯å¾„
            st[i] = true; // æ ‡è®°
            dfs(u + 1);   // ä¸‹ä¸€æ¬¡æœç´¢
            st[i] = false;  // æ¢å¤ç°åœºï¼Œ ä¸ºäº†ä¸å½±å“ä¸‹ä¸€æ¬¡æœç´¢
            
        }
        
    }
    
}

int main()
{
    cin &gt;&gt; n;
    
    dfs(0);
    
    
    return 0;
}

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[01èƒŒåŒ…é—®é¢˜ï¼ˆçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼‰]]></title>
        <id>https://Leo-aiolia-bao.github.io/post/01-bei-bao-wen-ti-zhuang-tai-zhuan-yi-fang-cheng/</id>
        <link href="https://Leo-aiolia-bao.github.io/post/01-bei-bao-wen-ti-zhuang-tai-zhuan-yi-fang-cheng/">
        </link>
        <updated>2021-02-10T03:43:30.000Z</updated>
        <content type="html"><![CDATA[<h2 id="é¢˜ç›®">é¢˜ç›®ï¼š</h2>
<p>æœ‰ N ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ V çš„èƒŒåŒ…ã€‚æ¯ä»¶ç‰©å“åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚</p>
<p>ç¬¬ i ä»¶ç‰©å“çš„ä½“ç§¯æ˜¯ viï¼Œä»·å€¼æ˜¯ wiã€‚</p>
<p>æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚<br>
è¾“å‡ºæœ€å¤§ä»·å€¼ã€‚</p>
<p><strong>è¾“å…¥æ ¼å¼</strong><br>
ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°ï¼ŒNï¼ŒVï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“æ•°é‡å’ŒèƒŒåŒ…å®¹ç§¯ã€‚</p>
<p>æ¥ä¸‹æ¥æœ‰ N è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° vi,wiï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ i ä»¶ç‰©å“çš„ä½“ç§¯å’Œä»·å€¼ã€‚</p>
<p><strong>è¾“å‡ºæ ¼å¼</strong><br>
è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§ä»·å€¼ã€‚</p>
<p><strong>æ•°æ®èŒƒå›´</strong><br>
<code>0&lt;N,Vâ‰¤1000</code><br>
<code>0&lt;vi,wiâ‰¤1000</code><br>
<strong>è¾“å…¥æ ·ä¾‹</strong><br>
<code>4 5</code><br>
<code>1 2</code><br>
<code>2 4</code><br>
<code>3 4</code><br>
<code>4 5</code><br>
<strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong><br>
<code>8</code></p>
<h2 id="é¢˜è§£">é¢˜è§£ï¼š</h2>
<p><strong>äºŒç»´æ•°ç»„+åŠ¨è§„</strong><br>
çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š<br>
å®šä¹‰<code>f[i][j]</code>:å‰ i ä¸ªç‰©å“ï¼ŒèƒŒåŒ…å®¹é‡ jä¸‹çš„æœ€ä¼˜è§£</p>
<p>1ï¼‰å½“å‰èƒŒåŒ…å®¹é‡ä¸å¤Ÿï¼ˆ<code>j &lt; w[i]</code>ï¼‰ï¼Œä¸ºå‰ iâˆ’1 ä¸ªç‰©å“æœ€ä¼˜è§£ï¼š<code>f[i][j] = f[i-1][j]</code><br>
2ï¼‰å½“å‰èƒŒåŒ…å®¹é‡å¤Ÿï¼Œåˆ¤æ–­é€‰ä¸ä¸é€‰ç¬¬ iä¸ªç‰©å“<br>
é€‰ï¼š<code>f[i][j] = f[i-1][j-w[i]] + v[i]</code><br>
ä¸é€‰ï¼š<code>f[i][j] = f[i-1][j]</code></p>
<p>C++ ä»£ç </p>
<pre><code class="language-c">#include&lt;bits/stdc++.h&gt;

using namespace std;

const int MAXN = 1005;
int w[MAXN];    // é‡é‡ 
int v[MAXN];    // ä»·å€¼ 
int f[MAXN][MAXN];  // f[i][j], jé‡é‡ä¸‹å‰iä¸ªç‰©å“çš„æœ€å¤§ä»·å€¼ 

int main() 
{
    int n, m;   
    cin &gt;&gt; n &gt;&gt; m;
    for(int i = 1; i &lt;= n; ++i) 
        cin &gt;&gt; w[i] &gt;&gt; v[i];

    for(int i = 1; i &lt;= n; ++i) 
        for(int j = 1; j &lt;= m; ++j)
        { 
            //  å½“å‰é‡é‡è£…ä¸è¿›ï¼Œä»·å€¼ç­‰äºå‰i-1ä¸ªç‰©å“
            if(j &lt; w[i]) 
                f[i][j] = f[i-1][j];
            // èƒ½è£…ï¼Œéœ€åˆ¤æ–­ 
            else    
                f[i][j] = max(f[i-1][j], f[i-1][j-w[i]] + v[i]);
        }           

    cout &lt;&lt; f[n][m];
    return 0;
}
</code></pre>
<p>ä¼˜åŒ–<br>
<strong>(åŠ¨è§„+ä¸€ç»´æ•°ç»„)</strong><br>
çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š<code>f[j] = max(f[j], f[j-w[i]] + v[i]</code></p>
<p>C++ ä»£ç </p>
<pre><code class="language-c">for(int i = 1; i &lt;= n; ++i)
{
    for(int j = m; j &gt;= 0; --j) 
        if(j &gt;= w[i])
            f[j] = max(f[j], f[j-w[i]] + v[i]);
} 
</code></pre>
<ul>
<li>æ³¨æ„æšä¸¾jå¿…é¡»ä»må¼€å§‹</li>
</ul>
<pre><code class="language-c">//æœ‰ä¼˜åŒ–ç‰ˆ
/*
1. f[i] ä»…ç”¨åˆ°äº†f[i-1]å±‚, 
2. jä¸j-v[i] å‡å°äºj
3.è‹¥ç”¨åˆ°ä¸Šä¸€å±‚çš„çŠ¶æ€æ—¶,ä»å¤§åˆ°å°æšä¸¾, åä¹‹ä»å°åˆ°å¤§å“¦
*/
#include &lt;iostream&gt;

using namespace std;

const int N = 1010;

int n, m;
int v[N], w[N];
int f[N];

int main() {
    cin &gt;&gt; n &gt;&gt; m;
    for(int i = 1; i &lt;= n; i++) cin &gt;&gt; v[i] &gt;&gt; w[i];
    for(int i = 1; i &lt;= n; i++) 
        for(int j = m; j &gt;= v[i]; j--) 
            f[j] = max(f[j], f[j-v[i]]+w[i]);
    cout &lt;&lt; f[m] &lt;&lt; endl;
 return 0;    
}

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æŸ“è‰²æ³•åˆ¤å®šäºŒåˆ†å›¾]]></title>
        <id>https://Leo-aiolia-bao.github.io/post/ran-se-fa-pan-ding-er-fen-tu/</id>
        <link href="https://Leo-aiolia-bao.github.io/post/ran-se-fa-pan-ding-er-fen-tu/">
        </link>
        <updated>2021-02-07T06:27:52.000Z</updated>
        <content type="html"><![CDATA[<ul>
<li>
<p>å¥‡æ•°ç¯ï¼šç”±å¥‡æ•°æ¡è¾¹å½¢æˆçš„ä¸€ä¸ªç¯</p>
</li>
<li>
<p>äºŒåˆ†å›¾ï¼šå½“ä¸”ä»…å½“å›¾ä¸­ä¸å«æœ‰å¥‡æ•°ç¯ï¼Œä¸¤ä¸ªé›†åˆå†…éƒ¨çš„å†…éƒ¨æ²¡æœ‰è¾¹</p>
</li>
</ul>
<h3 id="ç®—æ³•1">ç®—æ³•1</h3>
<p>ä½¿ç”¨bfs</p>
<ul>
<li>çº¦å®šæŸ“çš„é¢œè‰²æœ‰1é¢œè‰²å’Œ2é¢œè‰²</li>
</ul>
<h4 id="æ—¶é—´å¤æ‚åº¦-omn">æ—¶é—´å¤æ‚åº¦ O(m+n)</h4>
<pre><code class="language-c">#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;cstring&gt;

using namespace std;
const int N = 100010, M = 200010;
int n,m;
int h[N], e[M], ne[M], idx;
int color[N];

void add(int a, int b)
{
    e[idx] = b, ne[idx] = h[a], h[a] = idx ++;
}

bool dfs(int u, int c)
{
    color[u] = c;
    for(int i = h[u]; i != -1; i = ne[i])
    {
        int j = e[i];
        if(!color[j])
        {
            if(!dfs(j, 3-c)) return false;
        }
        else if(color[j] == c) return false;
    }
    return true;
}

int main()
{
    scanf(&quot;%d%d&quot;, &amp;n, &amp;m);
    memset(h, -1, sizeof h);
    
    while(m --)
    {
        int a, b;
        scanf(&quot;%d%d&quot;, &amp;a, &amp;b);
        add(a,b), add(b,a);
    }
    
    bool flag = true;
    for(int i = 1; i&lt;= n; i++)
    {
        if(!color[i])
        {
            if(! dfs(i,1))
            {
                flag = false;
                break;
            }
        }
    }
    
    if(flag) puts(&quot;Yes&quot;);
    else puts(&quot;No&quot;);
    
    return 0;
}
</code></pre>
<h1 id="å¯¼è¯»ä»€ä¹ˆæ˜¯æœ€å¤§åŒ¹é…">å¯¼è¯»ï¼šä»€ä¹ˆæ˜¯æœ€å¤§åŒ¹é…ï¼Ÿ</h1>
<p>è¦äº†è§£åŒˆç‰™åˆ©ç®—æ³•å¿…é¡»å…ˆç†è§£ä¸‹é¢çš„æ¦‚å¿µï¼š</p>
<pre><code>åŒ¹é…ï¼šåœ¨å›¾è®ºä¸­ï¼Œä¸€ä¸ªã€ŒåŒ¹é…ã€æ˜¯ä¸€ä¸ªè¾¹çš„é›†åˆï¼Œå…¶ä¸­ä»»æ„ä¸¤æ¡è¾¹éƒ½æ²¡æœ‰å…¬å…±é¡¶ç‚¹ã€‚

æœ€å¤§åŒ¹é…ï¼šä¸€ä¸ªå›¾æ‰€æœ‰åŒ¹é…ä¸­ï¼Œæ‰€å«åŒ¹é…è¾¹æ•°æœ€å¤šçš„åŒ¹é…ï¼Œç§°ä¸ºè¿™ä¸ªå›¾çš„æœ€å¤§åŒ¹é…ã€‚
</code></pre>
<p>ä¸‹é¢æ˜¯ä¸€äº›è¡¥å……æ¦‚å¿µï¼š</p>
<pre><code>å®Œç¾åŒ¹é…ï¼šå¦‚æœä¸€ä¸ªå›¾çš„æŸä¸ªåŒ¹é…ä¸­ï¼Œæ‰€æœ‰çš„é¡¶ç‚¹éƒ½æ˜¯åŒ¹é…ç‚¹ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ªå®Œç¾åŒ¹é…ã€‚

äº¤æ›¿è·¯ï¼šä»ä¸€ä¸ªæœªåŒ¹é…ç‚¹å‡ºå‘ï¼Œä¾æ¬¡ç»è¿‡éåŒ¹é…è¾¹ã€åŒ¹é…è¾¹ã€éåŒ¹é…è¾¹â€¦å½¢æˆçš„è·¯å¾„å«äº¤æ›¿è·¯ã€‚

å¢å¹¿è·¯ï¼šä»ä¸€ä¸ªæœªåŒ¹é…ç‚¹å‡ºå‘ï¼Œèµ°äº¤æ›¿è·¯ï¼Œå¦‚æœé€”å¾„å¦ä¸€ä¸ªæœªåŒ¹é…ç‚¹ï¼ˆå‡ºå‘çš„ç‚¹ä¸ç®—ï¼‰ï¼Œåˆ™è¿™æ¡äº¤æ›¿ è·¯ç§°ä¸ºå¢å¹¿è·¯ï¼ˆagumenting pathï¼‰ã€‚
</code></pre>
<p>åŒˆç‰™åˆ©ç®—æ³•<br>
ä¸è®²ç®—æ³•è¯æ˜(æˆ‘ä¹Ÿä¸ä¼š)ã€‚</p>
<p>ç”¨ä¸€ä¸ªè½¬è½½çš„ä¾‹å­æ¥è®²è§£åŒˆç‰™åˆ©ç®—æ³•çš„æµç¨‹ã€‚</p>
<p>ä»£ç å®ç°åŒˆç‰™åˆ©ç®—æ³•<br>
é¦–å…ˆæ˜¯å­˜å›¾æ¨¡æ¿</p>
<pre><code class="language-c">//é‚»æ¥è¡¨å†™æ³•ï¼Œå­˜ç¨€ç–å›¾
int h[N],ne[N],e[N],idx;
//n1,n2åˆ†åˆ«æ˜¯ä¸¤ä¸ªç‚¹é›†çš„ç‚¹çš„ä¸ªæ•°
int n1,n2,m;
void add(int a , int b)
{
    e[idx] = b, ne[idx] = h[a], h[a] = idx++;
}
void init()
{
    memset(h,-1,sizeof h);
}
//å­˜è¾¹åªå­˜ä¸€è¾¹å°±è¡Œäº†ï¼Œè™½ç„¶æ˜¯æ— å‘å›¾ã€‚
for(int i = 0 ; i &lt; n1 ; i ++)
{
    int a,b;
    cin&gt;&gt;a&gt;&gt;b;
    add(a,b);
}
</code></pre>
<p>æ¥ä¸‹æ¥çœ‹ç®—æ³•æ¨¡æ¿(c++)</p>
<pre><code class="language-c">//match[j]=a,è¡¨ç¤ºå¥³å­©jçš„ç°æœ‰é…å¯¹ç”·å‹æ˜¯a
int match[N];
//st[]æ•°ç»„æˆ‘ç§°ä¸ºä¸´æ—¶é¢„å®šæ•°ç»„ï¼Œst[j]=aè¡¨ç¤ºä¸€è½®æ¨¡æ‹ŸåŒ¹é…ä¸­ï¼Œå¥³å­©jè¢«ç”·å­©aé¢„å®šäº†ã€‚
int st[N];

//è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯ç”¨æ¥åˆ¤æ–­,å¦‚æœåŠ å…¥xæ¥å‚ä¸æ¨¡æ‹Ÿé…å¯¹,ä¼šä¸ä¼šä½¿åŒ¹é…æ•°å¢å¤š
int find(int x)
{
    //éå†è‡ªå·±å–œæ¬¢çš„å¥³å­©
    for(int i = h[x] ; i != -1 ;i = ne[i])
    {
        int j = e[i];
        if(!st[j])//å¦‚æœåœ¨è¿™ä¸€è½®æ¨¡æ‹ŸåŒ¹é…ä¸­,è¿™ä¸ªå¥³å­©å°šæœªè¢«é¢„å®š
        {
            st[j] = true;//é‚£xå°±é¢„å®šè¿™ä¸ªå¥³å­©äº†
            //å¦‚æœå¥³å­©jæ²¡æœ‰ç”·æœ‹å‹ï¼Œæˆ–è€…å¥¹åŸæ¥çš„ç”·æœ‹å‹èƒ½å¤Ÿé¢„å®šå…¶å®ƒå–œæ¬¢çš„å¥³å­©ã€‚é…å¯¹æˆåŠŸ,æ›´æ–°match
            if(!match[j]||find(match[j]))
            {
                match[j] = x;
                return true;
            }

        }
    }
    //è‡ªå·±ä¸­æ„çš„å…¨éƒ¨éƒ½è¢«é¢„å®šäº†ã€‚é…å¯¹å¤±è´¥ã€‚
    return false;
}

//è®°å½•æœ€å¤§åŒ¹é…
int res = 0;
for(int i = 1; i &lt;= n1 ;i ++)
{  
    //å› ä¸ºæ¯æ¬¡æ¨¡æ‹ŸåŒ¹é…çš„é¢„å®šæƒ…å†µéƒ½æ˜¯ä¸ä¸€æ ·çš„æ‰€ä»¥æ¯è½®æ¨¡æ‹Ÿéƒ½è¦åˆå§‹åŒ–
    memset(st,false,sizeof st);
    if(find(i)) 
        res++;
}  

</code></pre>
<h4 id="ä¸‹é¢ç”¨ä¸€ä¸ªgifåŠ¨å›¾æ¥æ¼”ç¤ºè¿™ä¸ªæ•´ä¸ªé…å¯¹çš„é€’å½’è¿‡ç¨‹">ä¸‹é¢ç”¨ä¸€ä¸ªgifåŠ¨å›¾æ¥æ¼”ç¤ºè¿™ä¸ªæ•´ä¸ªé…å¯¹çš„é€’å½’è¿‡ç¨‹ï¼š</h4>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Floyd ç®—æ³•]]></title>
        <id>https://Leo-aiolia-bao.github.io/post/floyd-suan-fa/</id>
        <link href="https://Leo-aiolia-bao.github.io/post/floyd-suan-fa/">
        </link>
        <updated>2021-02-06T13:20:19.000Z</updated>
        <content type="html"><![CDATA[<h1 id="å¤šæºæ±‡æœ€çŸ­è·¯é—®é¢˜-å…·æœ‰å¤šä¸ªæºç‚¹">å¤šæºæ±‡æœ€çŸ­è·¯é—®é¢˜-å…·æœ‰å¤šä¸ªæºç‚¹</h1>
<h3 id="floydç®—æ³•-on3-åŠ¨æ€è§„åˆ’">Floydç®—æ³• O(n^3)-åŠ¨æ€è§„åˆ’</h3>
<p>ç»™å®šä¸€ä¸ªnä¸ªç‚¹mæ¡è¾¹çš„æœ‰å‘å›¾ï¼Œå›¾ä¸­å¯èƒ½å­˜åœ¨é‡è¾¹å’Œè‡ªç¯ï¼Œè¾¹æƒå¯èƒ½ä¸ºè´Ÿæ•°ã€‚</p>
<p>å†ç»™å®škä¸ªè¯¢é—®ï¼Œæ¯ä¸ªè¯¢é—®åŒ…å«ä¸¤ä¸ªæ•´æ•°xå’Œyï¼Œè¡¨ç¤ºæŸ¥è¯¢ä»ç‚¹xåˆ°ç‚¹yçš„æœ€çŸ­è·ç¦»ï¼Œå¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡ºâ€œimpossibleâ€ã€‚</p>
<p>æ•°æ®ä¿è¯å›¾ä¸­ä¸å­˜åœ¨è´Ÿæƒå›è·¯ã€‚</p>
<h4 id="è¾“å…¥æ ¼å¼">è¾“å…¥æ ¼å¼</h4>
<p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•°nï¼Œmï¼Œk</p>
<p>æ¥ä¸‹æ¥mè¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•°xï¼Œyï¼Œzï¼Œè¡¨ç¤ºç‚¹xå’Œç‚¹yä¹‹é—´å­˜åœ¨ä¸€æ¡æœ‰å‘è¾¹ï¼Œè¾¹é•¿ä¸ºzã€‚</p>
<p>æ¥ä¸‹æ¥kè¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°xï¼Œyï¼Œè¡¨ç¤ºè¯¢é—®ç‚¹xåˆ°ç‚¹yçš„æœ€çŸ­è·ç¦»ã€‚</p>
<h4 id="è¾“å‡ºæ ¼å¼">è¾“å‡ºæ ¼å¼</h4>
<p>å…±kè¡Œï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¯¢é—®çš„ç»“æœï¼Œè‹¥è¯¢é—®ä¸¤ç‚¹é—´ä¸å­˜åœ¨è·¯å¾„ï¼Œåˆ™è¾“å‡ºâ€œimpossibleâ€ã€‚</p>
<h4 id="æ•°æ®èŒƒå›´">æ•°æ®èŒƒå›´</h4>
<p>1â‰¤nâ‰¤2001â‰¤nâ‰¤200<br>
1â‰¤kâ‰¤n21â‰¤kâ‰¤n2<br>
1â‰¤mâ‰¤200001â‰¤mâ‰¤20000<br>
å›¾ä¸­æ¶‰åŠè¾¹é•¿ç»å¯¹å€¼å‡ä¸è¶…è¿‡10000ã€‚</p>
<h4 id="è¾“å…¥æ ·ä¾‹">è¾“å…¥æ ·ä¾‹ï¼š</h4>
<p>3 3 2<br>
1 2 1<br>
2 3 2<br>
1 3 1<br>
2 1<br>
1 3</p>
<h4 id="è¾“å‡ºæ ·ä¾‹">è¾“å‡ºæ ·ä¾‹ï¼š</h4>
<p>impossible<br>
1</p>
<h4 id="ä»£ç ">ä»£ç ï¼š</h4>
<pre><code class="language-c">#include &lt;iostream&gt;
using namespace std;

const int N = 210, M = 2e+10, INF = 1e9;

int n, m, k, x, y, z;
int d[N][N];

void floyd() {
    for(int k = 1; k &lt;= n; k++)
        for(int i = 1; i &lt;= n; i++)
            for(int j = 1; j &lt;= n; j++)
                d[i][j] = min(d[i][j], d[i][k] + d[k][j]);
}

int main() {
    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;
    for(int i = 1; i &lt;= n; i++)
        for(int j = 1; j &lt;= n; j++)
            if(i == j) d[i][j] = 0;
            else d[i][j] = INF;
    while(m--) {
        cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;
        d[x][y] = min(d[x][y], z);
        //æ³¨æ„ä¿å­˜æœ€å°çš„è¾¹
    }
    floyd();
    while(k--) {
        cin &gt;&gt; x &gt;&gt; y;
        if(d[x][y] &gt; INF/2) puts(&quot;impossible&quot;);
        //ç”±äºæœ‰è´Ÿæƒè¾¹å­˜åœ¨æ‰€ä»¥çº¦å¤§è¿‡INF/2ä¹Ÿå¾ˆåˆç†
        else cout &lt;&lt; d[x][y] &lt;&lt; endl;
    }
    return 0;
}
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://Leo-aiolia-bao.github.io/post-images/1612618012689.png" alt="" loading="lazy"></figure>
<h2 id="æ–‡å­—æ€§å¤ä¹ "><strong>æ–‡å­—æ€§å¤ä¹ </strong></h2>
<h3 id="dijkstra-æœ´ç´ on2"><strong>Dijkstra-æœ´ç´ O(n^2)</strong></h3>
<ol>
<li>åˆå§‹åŒ–è·ç¦»æ•°ç»„, dist[1] = 0, dist[i] = inf;</li>
<li>for næ¬¡å¾ªç¯ æ¯æ¬¡å¾ªç¯ç¡®å®šä¸€ä¸ªminåŠ å…¥Sé›†åˆä¸­ï¼Œnæ¬¡ä¹‹åå°±å¾—å‡ºæ‰€æœ‰çš„æœ€çŸ­è·ç¦»</li>
<li>å°†ä¸åœ¨Sä¸­dist_minçš„ç‚¹-&gt;t</li>
<li>t-&gt;SåŠ å…¥æœ€çŸ­è·¯é›†åˆ</li>
<li>ç”¨tæ›´æ–°åˆ°å…¶ä»–ç‚¹çš„è·ç¦»</li>
</ol>
<h3 id="dijkstra-å †ä¼˜åŒ–omlogm"><strong>Dijkstra-å †ä¼˜åŒ–O(mlogm)</strong></h3>
<p>åˆ©ç”¨é‚»æ¥è¡¨ï¼Œä¼˜å…ˆé˜Ÿåˆ—<br>
åœ¨priority_queue[HTML_REMOVED], greater[HTML_REMOVED] &gt; heap;ä¸­å°†è¿”å›å †é¡¶<br>
åˆ©ç”¨å †é¡¶æ¥æ›´æ–°å…¶ä»–ç‚¹ï¼Œå¹¶åŠ å…¥å †ä¸­ç±»ä¼¼å®½æœ</p>
<h3 id="bellman_fordonm"><strong>Bellman_fordO(nm)</strong></h3>
<p>æ³¨æ„è¿é”æƒ³è±¡éœ€è¦å¤‡ä»½, struct Edge{inta,b,c} Edge[M];<br>
åˆå§‹åŒ–dist, æ¾å¼›dist[x.b] = min(dist[x.b], backup[x.a]+x.w);<br>
æ¾å¼›kæ¬¡ï¼Œæ¯æ¬¡è®¿é—®mæ¡è¾¹</p>
<h3 id="spfa-on~onm"><strong>Spfa O(n)~O(nm)</strong></h3>
<p>åˆ©ç”¨é˜Ÿåˆ—ä¼˜åŒ–ä»…åŠ å…¥ä¿®æ”¹è¿‡çš„åœ°æ–¹<br>
for kæ¬¡<br>
for æ‰€æœ‰è¾¹åˆ©ç”¨å®½æœæ¨¡å‹å»ä¼˜åŒ–bellman_fordç®—æ³•<br>
æ›´æ–°é˜Ÿåˆ—ä¸­å½“å‰ç‚¹çš„æ‰€æœ‰å‡ºè¾¹</p>
<h3 id="floyd-on3"><strong>Floyd O(n^3)</strong></h3>
<p>åˆå§‹åŒ–d<br>
k, i, j å»æ›´æ–°d</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[spfaç®—æ³•]]></title>
        <id>https://Leo-aiolia-bao.github.io/post/spfa-suan-fa/</id>
        <link href="https://Leo-aiolia-bao.github.io/post/spfa-suan-fa/">
        </link>
        <updated>2021-02-05T10:01:54.000Z</updated>
        <content type="html"><![CDATA[<h3 id="ç®—æ³•åˆ†æ">ç®—æ³•åˆ†æ</h3>
<h4 id="1-ä»€ä¹ˆæ˜¯spfaç®—æ³•">1ã€ä»€ä¹ˆæ˜¯spfaç®—æ³•ï¼Ÿ</h4>
<pre><code class="language-c">SPFA ç®—æ³•æ˜¯ Bellman-Fordç®—æ³• çš„é˜Ÿåˆ—ä¼˜åŒ–ç®—æ³•çš„åˆ«ç§°ï¼Œé€šå¸¸ç”¨äºæ±‚å«è´Ÿæƒè¾¹çš„å•æºæœ€çŸ­è·¯å¾„ï¼Œä»¥åŠåˆ¤è´Ÿæƒç¯ã€‚SPFAä¸€èˆ¬æƒ…å†µå¤æ‚åº¦æ˜¯O(m)O(m) æœ€åæƒ…å†µä¸‹å¤æ‚åº¦å’Œæœ´ç´  Bellman-Ford ç›¸åŒï¼Œä¸ºO(nm)O(nm)ã€‚

bellman-fordç®—æ³•æ“ä½œå¦‚ä¸‹ï¼š
for næ¬¡
for æ‰€æœ‰è¾¹ a,b,w (æ¾å¼›æ“ä½œ)
dist[b] = min(dist[b],back[a] + w)

spfaç®—æ³•å¯¹ç¬¬äºŒè¡Œä¸­æ‰€æœ‰è¾¹è¿›è¡Œæ¾å¼›æ“ä½œè¿›è¡Œäº†ä¼˜åŒ–ï¼ŒåŸå› æ˜¯åœ¨bellmanâ€”fordç®—æ³•ä¸­ï¼Œå³ä½¿è¯¥ç‚¹çš„æœ€çŸ­è·ç¦»å°šæœªæ›´æ–°è¿‡ï¼Œä½†è¿˜æ˜¯éœ€è¦ç”¨å°šæœªæ›´æ–°è¿‡çš„å€¼å»æ›´æ–°å…¶ä»–ç‚¹ï¼Œç”±æ­¤å¯çŸ¥ï¼Œè¯¥æ“ä½œæ˜¯ä¸å¿…è¦çš„ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰¾åˆ°æ›´æ–°è¿‡çš„å€¼å»æ›´æ–°å…¶ä»–ç‚¹å³å¯ã€‚
</code></pre>
<h4 id="2-spfaç®—æ³•æ­¥éª¤">2ã€spfaç®—æ³•æ­¥éª¤</h4>
<pre><code class="language-c">queue &lt;â€“ 1
while queue ä¸ä¸ºç©º
 (1) t &lt;â€“ é˜Ÿå¤´
 queue.pop()
 (2)ç”¨ t æ›´æ–°æ‰€æœ‰å‡ºè¾¹ t â€“&gt; bï¼Œæƒå€¼ä¸ºw
 queue &lt;â€“ b (è‹¥è¯¥ç‚¹è¢«æ›´æ–°è¿‡ï¼Œåˆ™æ‹¿è¯¥ç‚¹æ›´æ–°å…¶ä»–ç‚¹)

æ—¶é—´å¤æ‚åº¦ ä¸€èˆ¬ï¼šO(m)O(m) æœ€åï¼šO(nm)O(nm)
nä¸ºç‚¹æ•°ï¼Œmä¸ºè¾¹æ•°
</code></pre>
<h4 id="3-spfaä¹Ÿèƒ½è§£å†³æƒå€¼ä¸ºæ­£çš„å›¾çš„æœ€çŸ­è·ç¦»é—®é¢˜ä¸”ä¸€èˆ¬æƒ…å†µä¸‹æ¯”dijkstraç®—æ³•è¿˜å¥½">3ã€spfaä¹Ÿèƒ½è§£å†³æƒå€¼ä¸ºæ­£çš„å›¾çš„æœ€çŸ­è·ç¦»é—®é¢˜ï¼Œä¸”ä¸€èˆ¬æƒ…å†µä¸‹æ¯”Dijkstraç®—æ³•è¿˜å¥½</h4>
<h3 id="ä»£ç åŠæ³¨é‡Š">ä»£ç åŠæ³¨é‡Š</h3>
<pre><code class="language-c">
#include&lt;iostream&gt;
#include&lt;queue&gt;
#include&lt;cstring&gt;
using namespace std;

const int N=1e5+10;

#define fi first
#define se second

typedef pair&lt;int,int&gt; PII;//åˆ°æºç‚¹çš„è·ç¦»ï¼Œä¸‹æ ‡å·

int h[N],e[N],w[N],ne[N],idx=0;
int dist[N];//å„ç‚¹åˆ°æºç‚¹çš„è·ç¦»
bool st[N];
int n,m;
void add(int a,int b,int c){
    e[idx]=b;w[idx]=c;ne[idx]=h[a];h[a]=idx++;
}

int spfa(){
    queue&lt;PII&gt; q;
    memset(dist,0x3f,sizeof dist);
    dist[1]=0;
    q.push({0,1});
    st[1]=true;
    while(q.size()){
        PII p=q.front();
        q.pop();
        int t=p.se;
        st[t]=false;//ä»é˜Ÿåˆ—ä¸­å–å‡ºæ¥ä¹‹åè¯¥èŠ‚ç‚¹stè¢«æ ‡è®°ä¸ºfalse,ä»£è¡¨ä¹‹åè¯¥èŠ‚ç‚¹å¦‚æœå‘ç”Ÿæ›´æ–°å¯å†æ¬¡å…¥é˜Ÿ
        for(int i=h[t];i!=-1;i=ne[i]){
            int j=e[i];
            if(dist[j]&gt;dist[t]+w[i]){
                dist[j]=dist[t]+w[i];
                if(!st[j]){//å½“å‰å·²ç»åŠ å…¥é˜Ÿåˆ—çš„ç»“ç‚¹ï¼Œæ— éœ€å†æ¬¡åŠ å…¥é˜Ÿåˆ—ï¼Œå³ä¾¿å‘ç”Ÿäº†æ›´æ–°ä¹Ÿåªç”¨æ›´æ–°æ•°å€¼å³å¯ï¼Œé‡å¤æ·»åŠ é™ä½æ•ˆç‡
                    st[j]=true;
                    q.push({dist[j],j});
                }
            }
        }
    }
    if(dist[n]==0x3f3f3f3f) return -1;
    else return dist[n];
}

int main(){
    scanf(&quot;%d%d&quot;,&amp;n,&amp;m);
    memset(h,-1,sizeof h);
    while(m--){
        int a,b,c;
        scanf(&quot;%d%d%d&quot;,&amp;a,&amp;b,&amp;c);
        add(a,b,c);
    }
    int res=spfa();
    if(res==-1) puts(&quot;impossible&quot;);
    else printf(&quot;%d&quot;,res);

    return 0;
}

</code></pre>
<h3 id="ç®—æ³•åˆ†æ2">ç®—æ³•åˆ†æ2</h3>
<p>ä½¿ç”¨spfaç®—æ³•è§£å†³æ˜¯å¦å­˜åœ¨è´Ÿç¯é—®é¢˜</p>
<p>æ±‚è´Ÿç¯çš„å¸¸ç”¨æ–¹æ³•ï¼ŒåŸºäº<code>SPFA</code>ï¼Œä¸€èˆ¬éƒ½ç”¨æ–¹æ³• 2ï¼ˆè¯¥é¢˜ä¹Ÿæ˜¯ç”¨æ–¹æ³• 2ï¼‰ï¼š</p>
<ul>
<li>æ–¹æ³• 1ï¼šç»Ÿè®¡æ¯ä¸ªç‚¹å…¥é˜Ÿçš„æ¬¡æ•°ï¼Œå¦‚æœæŸä¸ªç‚¹å…¥é˜Ÿnæ¬¡ï¼Œåˆ™è¯´æ˜å­˜åœ¨è´Ÿç¯</li>
<li>æ–¹æ³• 2ï¼šç»Ÿè®¡å½“å‰æ¯ä¸ªç‚¹çš„æœ€çŸ­è·¯ä¸­æ‰€åŒ…å«çš„è¾¹æ•°ï¼Œå¦‚æœæŸç‚¹çš„æœ€çŸ­è·¯æ‰€åŒ…å«çš„è¾¹æ•°å¤§äºç­‰äºnï¼Œåˆ™ä¹Ÿè¯´æ˜å­˜åœ¨ç¯</li>
</ul>
<p>cntæ•°ç»„è¡¨ç¤ºåˆ°è¾¾å½“å‰è¿™ä¸ªç‚¹æœ€çŸ­è·¯çš„è¾¹æ•°ï¼Œå¦‚æœcnt[x]&gt;=n,è¯´æ˜è‡³å°‘ç»è¿‡äº†næ¡è¾¹ï¼Œå³n+1ä¸ªç‚¹ï¼Œç”±æŠ½å±‰åŸç†å¯çŸ¥æ˜¾ç„¶æœ‰ä¸¤ä¸ªç‚¹é‡å¤ï¼Œå³å­˜åœ¨è´Ÿç¯</p>
<p>_<strong>ylsçš„åŸè¯</strong><br>
æ¯æ¬¡åšä¸€é<code>spfa()</code>ä¸€å®šæ˜¯æ­£ç¡®çš„ï¼Œä½†æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼Œå¯èƒ½ä¼šè¶…æ—¶ã€‚åˆå§‹æ—¶å°†æ‰€æœ‰ç‚¹æ’å…¥é˜Ÿåˆ—ä¸­å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼ç†è§£ï¼š<br>
åœ¨åŸå›¾çš„åŸºç¡€ä¸Šæ–°å»ºä¸€ä¸ªè™šæ‹Ÿæºç‚¹ï¼Œä»è¯¥ç‚¹å‘å…¶ä»–æ‰€æœ‰ç‚¹è¿ä¸€æ¡æƒå€¼ä¸º<code>0</code>çš„æœ‰å‘è¾¹ã€‚é‚£ä¹ˆåŸå›¾æœ‰è´Ÿç¯ç­‰ä»·äºæ–°å›¾æœ‰è´Ÿç¯ã€‚æ­¤æ—¶åœ¨æ–°å›¾ä¸Šåš<code>spfa</code>ï¼Œå°†è™šæ‹Ÿæºç‚¹åŠ å…¥é˜Ÿåˆ—ä¸­ã€‚ç„¶åè¿›è¡Œ<code>spfa</code>çš„ç¬¬ä¸€æ¬¡è¿­ä»£ï¼Œè¿™æ—¶ä¼šå°†æ‰€æœ‰ç‚¹çš„è·ç¦»æ›´æ–°å¹¶å°†æ‰€æœ‰ç‚¹æ’å…¥é˜Ÿåˆ—ä¸­ã€‚æ‰§è¡Œåˆ°è¿™ä¸€æ­¥ï¼Œå°±ç­‰ä»·äºè§†é¢‘ä¸­çš„åšæ³•äº†ã€‚é‚£ä¹ˆè§†é¢‘ä¸­çš„åšæ³•å¯ä»¥æ‰¾åˆ°è´Ÿç¯ï¼Œç­‰ä»·äºè¿™æ¬¡<code>spfa</code>å¯ä»¥æ‰¾åˆ°è´Ÿç¯ï¼Œç­‰ä»·äºæ–°å›¾æœ‰è´Ÿç¯ï¼Œç­‰ä»·äºåŸå›¾æœ‰è´Ÿç¯ã€‚å¾—è¯ã€‚</p>
<ul>
<li>
<p>1ã€dist[x] è®°å½•è™šæ‹Ÿæºç‚¹åˆ°xçš„æœ€çŸ­è·ç¦»</p>
</li>
<li>
<p>2ã€cnt[x] è®°å½•å½“å‰xç‚¹åˆ°è™šæ‹Ÿæºç‚¹æœ€çŸ­è·¯çš„è¾¹æ•°ï¼Œåˆå§‹æ¯ä¸ªç‚¹åˆ°è™šæ‹Ÿæºç‚¹çš„è·ç¦»ä¸º0ï¼Œåªè¦ä»–èƒ½å†èµ°næ­¥ï¼Œå³cnt[x] &gt;= nï¼Œåˆ™è¡¨ç¤ºè¯¥å›¾ä¸­ä¸€å®šå­˜åœ¨è´Ÿç¯ï¼Œç”±äºä»è™šæ‹Ÿæºç‚¹åˆ°xè‡³å°‘ç»è¿‡næ¡è¾¹æ—¶ï¼Œåˆ™è¯´æ˜å›¾ä¸­è‡³å°‘æœ‰n + 1ä¸ªç‚¹ï¼Œè¡¨ç¤ºä¸€å®šæœ‰ç‚¹æ˜¯é‡å¤ä½¿ç”¨</p>
</li>
<li>
<p>3ã€è‹¥dist[j] &gt; dist[t] + w[i],åˆ™è¡¨ç¤ºä»tç‚¹èµ°åˆ°jç‚¹èƒ½å¤Ÿè®©æƒå€¼å˜å°‘ï¼Œå› æ­¤è¿›è¡Œå¯¹è¯¥ç‚¹jè¿›è¡Œæ›´æ–°ï¼Œå¹¶ä¸”å¯¹åº”cnt[j] = cnt[t] + 1,å¾€å‰èµ°ä¸€æ­¥</p>
</li>
</ul>
<h4 id="æ³¨æ„è¯¥é¢˜æ˜¯åˆ¤æ–­æ˜¯å¦å­˜åœ¨è´Ÿç¯å¹¶éåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä»1å¼€å§‹çš„è´Ÿç¯å› æ­¤éœ€è¦å°†æ‰€æœ‰çš„ç‚¹éƒ½åŠ å…¥é˜Ÿåˆ—ä¸­æ›´æ–°å‘¨å›´çš„ç‚¹">æ³¨æ„ï¼šè¯¥é¢˜æ˜¯åˆ¤æ–­æ˜¯å¦å­˜åœ¨è´Ÿç¯ï¼Œå¹¶éåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä»1å¼€å§‹çš„è´Ÿç¯ï¼Œå› æ­¤éœ€è¦å°†æ‰€æœ‰çš„ç‚¹éƒ½åŠ å…¥é˜Ÿåˆ—ä¸­ï¼Œæ›´æ–°å‘¨å›´çš„ç‚¹</h4>
<pre><code class="language-c">#include &lt;iostream&gt;
#include &lt;cstring&gt;
#include &lt;queue&gt;

using namespace std;
const int N = 100010;

int n,m;
int h[N], w[N], e[N], ne[N], idx;
int dist[N], cnt[N];  // cnt
bool st[N];

void add(int a, int b, int c)
{
    e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++;
    
}

int spfa()
{
    // memset(dist, 0x3f, sizeof dist);
    // dist[1]= 0;
    
    queue &lt;int&gt; q;
    for(int i = 1 ; i&lt;=n; i++)
    {
        st[i] = true;
        q.push(i);
    }
    
    // q.push(1);
    // st[1] = true;
    
    while(q.size())
    {
        int t = q.front();
        q.pop();
        
        st[t] = false;
        //æ›´æ–°tçš„æ‰€æœ‰é‚»è¾¹
        for(int i = h[t]; i!=-1; i = ne[i])
        {
            int j = e[i];
            if(dist[j] &gt; dist[t] + w[i])
            {
                dist[j] = dist[t] + w[i]; 
                cnt[j] = cnt[t] + 1;  // 1
                
                if(cnt[j] &gt;= n) return true;  //2
                if(!st[j])
                {
                    q.push(j);
                    st[j] = true;
                }
            }
        }
    }
    return false;
}

int main()
{
    scanf(&quot;%d%d&quot;,&amp;n, &amp;m);
    
    memset(h, -1, sizeof h);
    
    while(m --)
    {
        int a, b, c;
        scanf(&quot;%d%d%d&quot;, &amp;a, &amp;b, &amp;c);
        add(a, b, c);
    }
    
    if(spfa()) puts(&quot;Yes&quot;);
    else puts(&quot;No&quot;);
    
    
    
    return 0;
}

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å›¾è®º]]></title>
        <id>https://Leo-aiolia-bao.github.io/post/tu-lun/</id>
        <link href="https://Leo-aiolia-bao.github.io/post/tu-lun/">
        </link>
        <updated>2021-02-05T09:30:16.000Z</updated>
        <content type="html"><![CDATA[<figure data-type="image" tabindex="1"><img src="https://Leo-aiolia-bao.github.io/post-images/1612517738961.png" alt="" loading="lazy"></figure>
<p>æ­£æƒå›¾<br>
è´Ÿæƒå›¾<br>
éƒ½å¯ç”¨SPFA ç®—æ³• ä¸€èˆ¬O(m), æœ€åO(mn)<br>
æ¯”dijkstra é€Ÿåº¦å¿«<br>
å¯èƒ½ä¼šå¡æ‰ å¾ˆå°å¯èƒ½ï¼Œå°±æ˜¯æ—¶é—´å¤æ‚åº¦æœ€åæ—¶</p>
<p>ç®—æ³•ï¼š æ€ç»´ æ€è·¯    å†™æ¸…ç¬”è®° è¯æ˜<br>
ä»£ç ç†Ÿç»ƒåº¦</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[bellman_fordç®—æ³•]]></title>
        <id>https://Leo-aiolia-bao.github.io/post/bellman_ford-suan-fa/</id>
        <link href="https://Leo-aiolia-bao.github.io/post/bellman_ford-suan-fa/">
        </link>
        <updated>2021-02-05T08:40:35.000Z</updated>
        <summary type="html"><![CDATA[<h3 id="ä¸€-å‰å¯¼-ç®—æ³•åˆ†æ">(ä¸€) å‰å¯¼ ç®—æ³•åˆ†æ</h3>
<p>1ã€é—®é¢˜ï¼šä¸ºä»€ä¹ˆDijkstraä¸èƒ½ä½¿ç”¨åœ¨å«è´Ÿæƒçš„å›¾ä¸­ï¼Ÿï¼ˆåœ¨å¼ºå¤§çš„ç½‘å‹æŒ‡ç‚¹ä¸‹å·²è¿›è¡Œä¿®æ”¹ï¼‰</p>
<p>æ­£ç¡®çš„åˆ†æ<br>
Dijkstraç®—æ³•çš„3ä¸ªæ­¥éª¤</p>
<pre><code>1. æ‰¾åˆ°å½“å‰æœªæ ‡è¯†çš„ä¸”ç¦»æºç‚¹æœ€è¿‘çš„ç‚¹t
2. å¯¹tå·ç‚¹ç‚¹è¿›è¡Œæ ‡è¯†
3. ç”¨tå·ç‚¹æ›´æ–°å…¶ä»–ç‚¹çš„è·ç¦»
</code></pre>
<p>åä¾‹</p>
<figure data-type="image" tabindex="1"><img src="https://Leo-aiolia-bao.github.io/post-images/1612514547588.png" alt="ä¾‹å­" loading="lazy"></figure>
]]></summary>
        <content type="html"><![CDATA[<h3 id="ä¸€-å‰å¯¼-ç®—æ³•åˆ†æ">(ä¸€) å‰å¯¼ ç®—æ³•åˆ†æ</h3>
<p>1ã€é—®é¢˜ï¼šä¸ºä»€ä¹ˆDijkstraä¸èƒ½ä½¿ç”¨åœ¨å«è´Ÿæƒçš„å›¾ä¸­ï¼Ÿï¼ˆåœ¨å¼ºå¤§çš„ç½‘å‹æŒ‡ç‚¹ä¸‹å·²è¿›è¡Œä¿®æ”¹ï¼‰</p>
<p>æ­£ç¡®çš„åˆ†æ<br>
Dijkstraç®—æ³•çš„3ä¸ªæ­¥éª¤</p>
<pre><code>1. æ‰¾åˆ°å½“å‰æœªæ ‡è¯†çš„ä¸”ç¦»æºç‚¹æœ€è¿‘çš„ç‚¹t
2. å¯¹tå·ç‚¹ç‚¹è¿›è¡Œæ ‡è¯†
3. ç”¨tå·ç‚¹æ›´æ–°å…¶ä»–ç‚¹çš„è·ç¦»
</code></pre>
<p>åä¾‹</p>
<figure data-type="image" tabindex="1"><img src="https://Leo-aiolia-bao.github.io/post-images/1612514547588.png" alt="ä¾‹å­" loading="lazy"></figure>
<!-- more -->
<p><strong>ç»“æœï¼š</strong></p>
<p>dijkstraç®—æ³•åœ¨å›¾ä¸­èµ°å‡ºæ¥çš„æœ€çŸ­è·¯å¾„æ˜¯<code>1 -&gt; 2 -&gt; 4 -&gt; 5</code>ï¼Œç®—å‡º 1 å·ç‚¹åˆ° 5 å·ç‚¹çš„æœ€çŸ­è·ç¦»æ˜¯<code>2 + 2 + 1 = 5</code>ï¼Œç„¶è€Œè¿˜å­˜åœ¨ä¸€æ¡è·¯å¾„æ˜¯<code>1 -&gt; 3 -&gt; 4 -&gt; 5</code>ï¼Œè¯¥è·¯å¾„çš„é•¿åº¦æ˜¯<code>5 + (-2) + 1 = 4</code>ï¼Œå› æ­¤ <code>dijkstra</code> ç®—æ³•å¤±æ•ˆ<br>
(dijkstraä¸èƒ½è§£å†³è´Ÿæƒè¾¹æ˜¯å› ä¸º dijkstraè¦æ±‚æ¯ä¸ªç‚¹è¢«ç¡®å®šåst[j] = trueï¼Œdist[j]å°±æ˜¯æœ€çŸ­è·ç¦»äº†ï¼Œä¹‹åå°±ä¸èƒ½å†è¢«æ›´æ–°äº†ï¼ˆä¸€é”¤å­ä¹°å–ï¼‰ï¼Œè€Œå¦‚æœæœ‰è´Ÿæƒè¾¹çš„è¯ï¼Œé‚£å·²ç»ç¡®å®šçš„ç‚¹çš„dist[j]ä¸ä¸€å®šæ˜¯æœ€çŸ­äº†)</p>
<h4 id="è¯¦è§£ä»£ç å¦‚ä¸‹">è¯¦è§£ä»£ç å¦‚ä¸‹ï¼š</h4>
<pre><code class="language-c">int dijkstra()
{
    memset(dist,0x3f,sizeof dist);
    dist[1]=0;

    for(int i=0;i&lt;n-1;i++)
    {
        cout&lt;&lt;&quot;ç¬¬&quot;&lt;&lt;(i+1)&lt;&lt;&quot;æ¬¡å¾ªç¯&quot;&lt;&lt;endl;
        int t=-1;
        cout&lt;&lt;&quot;è¿˜æ²¡å¼€å§‹æ‰¾æœªè¢«æ ‡è®°çš„æ•°ä¹‹å‰tçš„å€¼ä¸ºï¼š&quot;&lt;&lt;t&lt;&lt;endl;
        int m=1;
        for(int j=1;j&lt;=n;j++)
        {    
            if(!st[j]&amp;&amp;(t==-1||dist[t]&gt;dist[j]))
            {
                cout&lt;&lt;&quot;å¾ªç¯å†…ç¬¬&quot;&lt;&lt;m&lt;&lt;&quot;æ¬¡æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„jæ˜¯ï¼š&quot;&lt;&lt;j&lt;&lt;endl;
                m++;
                t=j;
            }
        }        
        cout&lt;&lt;&quot;è¢«æ ‡è®°çš„æ•°tçš„å€¼ä¸ºï¼š&quot;&lt;&lt;t&lt;&lt;endl;

        st[t]=true;

        for(int j=1;j&lt;=n;j++)
            dist[j] = min(dist[j],dist[t]+g[t][j]);

        cout&lt;&lt;&quot;ç¬¬&quot;&lt;&lt;(i+1)&lt;&lt;&quot;æ¬¡å¾ªç¯ådistæ•°ç»„çš„æ›´æ–°æƒ…å†µï¼š&quot;&lt;&lt;endl;
        for(int j=1;j&lt;=n;j++)
        {
            cout&lt;&lt;&quot;dist[&quot;&lt;&lt;j&lt;&lt;&quot;]è·ç¦»ä¸º:&quot;&lt;&lt;dist[j]&lt;&lt;&quot;, &quot;;
        }
        puts(&quot;&quot;);
        puts(&quot;---------------------------------&quot;);
    }

    if(dist[n]==0x3f3f3f3f) return -1;
    else return dist[n];
}
è¾“å‡ºï¼š

ç¬¬1æ¬¡å¾ªç¯
è¿˜æ²¡å¼€å§‹æ‰¾æœªè¢«æ ‡è®°çš„æ•°ä¹‹å‰tçš„å€¼ä¸ºï¼š-1
å¾ªç¯å†…ç¬¬1æ¬¡æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„jæ˜¯ï¼š1
è¢«æ ‡è®°çš„æ•°tçš„å€¼ä¸ºï¼š1
ç¬¬1æ¬¡å¾ªç¯ådistæ•°ç»„çš„æ›´æ–°æƒ…å†µï¼š
dist[1]è·ç¦»ä¸º:0, dist[2]è·ç¦»ä¸º:2, dist[3]è·ç¦»ä¸º:5, dist[4]è·ç¦»ä¸º:1061109567, dist[5]è·ç¦»ä¸º:1061109567, 
---------------------------------
ç¬¬2æ¬¡å¾ªç¯
è¿˜æ²¡å¼€å§‹æ‰¾æœªè¢«æ ‡è®°çš„æ•°ä¹‹å‰tçš„å€¼ä¸ºï¼š-1
å¾ªç¯å†…ç¬¬1æ¬¡æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„jæ˜¯ï¼š2
è¢«æ ‡è®°çš„æ•°tçš„å€¼ä¸ºï¼š2
ç¬¬2æ¬¡å¾ªç¯ådistæ•°ç»„çš„æ›´æ–°æƒ…å†µï¼š
dist[1]è·ç¦»ä¸º:0, dist[2]è·ç¦»ä¸º:2, dist[3]è·ç¦»ä¸º:5, dist[4]è·ç¦»ä¸º:4, dist[5]è·ç¦»ä¸º:1061109567, 
---------------------------------
ç¬¬3æ¬¡å¾ªç¯
è¿˜æ²¡å¼€å§‹æ‰¾æœªè¢«æ ‡è®°çš„æ•°ä¹‹å‰tçš„å€¼ä¸ºï¼š-1
å¾ªç¯å†…ç¬¬1æ¬¡æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„jæ˜¯ï¼š3
å¾ªç¯å†…ç¬¬2æ¬¡æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„jæ˜¯ï¼š4
è¢«æ ‡è®°çš„æ•°tçš„å€¼ä¸ºï¼š4
ç¬¬3æ¬¡å¾ªç¯ådistæ•°ç»„çš„æ›´æ–°æƒ…å†µï¼š
dist[1]è·ç¦»ä¸º:0, dist[2]è·ç¦»ä¸º:2, dist[3]è·ç¦»ä¸º:5, dist[4]è·ç¦»ä¸º:4, dist[5]è·ç¦»ä¸º:5, 
---------------------------------
ç¬¬4æ¬¡å¾ªç¯
è¿˜æ²¡å¼€å§‹æ‰¾æœªè¢«æ ‡è®°çš„æ•°ä¹‹å‰tçš„å€¼ä¸ºï¼š-1
å¾ªç¯å†…ç¬¬1æ¬¡æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„jæ˜¯ï¼š3
è¢«æ ‡è®°çš„æ•°tçš„å€¼ä¸ºï¼š3
ç¬¬4æ¬¡å¾ªç¯ådistæ•°ç»„çš„æ›´æ–°æƒ…å†µï¼š
dist[1]è·ç¦»ä¸º:0, dist[2]è·ç¦»ä¸º:2, dist[3]è·ç¦»ä¸º:5, dist[4]è·ç¦»ä¸º:3, dist[5]è·ç¦»ä¸º:5, 
---------------------------------
æœ€çŸ­è·¯å¾„ç»“æœæ˜¯ï¼š5

</code></pre>
<h3 id="äºŒ-ä»€ä¹ˆæ˜¯bellman-fordç®—æ³•">(äºŒ) ä»€ä¹ˆæ˜¯bellman - fordç®—æ³•ï¼Ÿ</h3>
<p><code>Bellman - ford ç®—æ³•æ˜¯æ±‚å«è´Ÿæƒå›¾çš„å•æºæœ€çŸ­è·¯å¾„çš„ä¸€ç§ç®—æ³•ï¼Œæ•ˆç‡è¾ƒä½ï¼Œä»£ç éš¾åº¦è¾ƒå°ã€‚å…¶åŸç†ä¸ºè¿ç»­è¿›è¡Œæ¾å¼›ï¼Œåœ¨æ¯æ¬¡æ¾å¼›æ—¶æŠŠæ¯æ¡è¾¹éƒ½æ›´æ–°ä¸€ä¸‹ï¼Œè‹¥åœ¨ n-1 æ¬¡æ¾å¼›åè¿˜èƒ½æ›´æ–°ï¼Œåˆ™è¯´æ˜å›¾ä¸­æœ‰è´Ÿç¯ï¼Œå› æ­¤æ— æ³•å¾—å‡ºç»“æœï¼Œå¦åˆ™å°±å®Œæˆã€‚</code><br>
(é€šä¿—çš„æ¥è®²å°±æ˜¯ï¼šå‡è®¾ 1 å·ç‚¹åˆ° n å·ç‚¹æ˜¯å¯è¾¾çš„ï¼Œæ¯ä¸€ä¸ªç‚¹åŒæ—¶å‘æŒ‡å‘çš„æ–¹å‘å‡ºå‘ï¼Œæ›´æ–°ç›¸é‚»çš„ç‚¹çš„æœ€çŸ­è·ç¦»ï¼Œé€šè¿‡å¾ªç¯ n-1 æ¬¡æ“ä½œï¼Œè‹¥å›¾ä¸­ä¸å­˜åœ¨è´Ÿç¯ï¼Œåˆ™ 1 å·ç‚¹ä¸€å®šä¼šåˆ°è¾¾ n å·ç‚¹ï¼Œè‹¥å›¾ä¸­å­˜åœ¨è´Ÿç¯ï¼Œåˆ™åœ¨ n-1 æ¬¡æ¾å¼›åä¸€å®šè¿˜ä¼šæ›´æ–°)</p>
<p>3ã€bellman - fordç®—æ³•çš„å…·ä½“æ­¥éª¤</p>
<pre><code class="language-c">for næ¬¡
for æ‰€æœ‰è¾¹ a,b,w (æ¾å¼›æ“ä½œ)
dist[b] = min(dist[b],back[a] + w)
</code></pre>
<p>æ³¨æ„ï¼šback[] æ•°ç»„æ˜¯ä¸Šä¸€æ¬¡è¿­ä»£å dist[] æ•°ç»„çš„å¤‡ä»½ï¼Œç”±äºæ˜¯æ¯ä¸ªç‚¹åŒæ—¶å‘å¤–å‡ºå‘ï¼Œå› æ­¤éœ€è¦å¯¹ dist[] æ•°ç»„è¿›è¡Œå¤‡ä»½ï¼Œè‹¥ä¸è¿›è¡Œå¤‡ä»½ä¼šå› æ­¤å‘ç”Ÿä¸²è”æ•ˆåº”ï¼Œå½±å“åˆ°ä¸‹ä¸€ä¸ªç‚¹</p>
<p>4ã€åœ¨ä¸‹é¢ä»£ç ä¸­ï¼Œæ˜¯å¦èƒ½åˆ°è¾¾nå·ç‚¹çš„åˆ¤æ–­ä¸­éœ€è¦è¿›è¡Œif(dist[n] &gt; INF/2)åˆ¤æ–­ï¼Œè€Œå¹¶éæ˜¯if(dist[n] == INF)åˆ¤æ–­ï¼ŒåŸå› æ˜¯INFæ˜¯ä¸€ä¸ªç¡®å®šçš„å€¼ï¼Œå¹¶éçœŸæ­£çš„æ— ç©·å¤§ï¼Œä¼šéšç€å…¶ä»–æ•°å€¼è€Œå—åˆ°å½±å“ï¼Œdist[n]å¤§äºæŸä¸ªä¸INFç›¸åŒæ•°é‡çº§çš„æ•°å³å¯<br>
5ã€bellman - fordç®—æ³•æ“…é•¿è§£å†³æœ‰è¾¹æ•°é™åˆ¶çš„æœ€çŸ­è·¯é—®é¢˜<br>
æ—¶é—´å¤æ‚åº¦ O(nm)O(nm)<br>
å…¶ä¸­nä¸ºç‚¹æ•°ï¼Œmä¸ºè¾¹æ•°</p>
<pre><code class="language-c">#include&lt;iostream&gt;
#include&lt;cstring&gt;
using namespace std;

const int N=510,M=10010;

struct Edge{
    int a;
    int b;
    int w;
}e[M];//æŠŠæ¯ä¸ªè¾¹ä¿å­˜ä¸‹æ¥å³å¯
int dist[N];
int back[N];//å¤‡ä»½æ•°ç»„æ”¾ç½®ä¸²è”
int n,m,k;//kä»£è¡¨æœ€çŸ­è·¯å¾„æœ€å¤šåŒ…æ¶µkæ¡è¾¹

int bellman_ford(){
    memset(dist,0x3f,sizeof dist);
    dist[1]=0;
    for(int i=0;i&lt;k;i++){//kæ¬¡å¾ªç¯
        memcpy(back,dist,sizeof dist);
        for(int j=0;j&lt;m;j++){//éå†æ‰€æœ‰è¾¹
            int a=e[j].a,b=e[j].b,w=e[j].w;
            dist[b]=min(dist[b],back[a]+w);//ä½¿ç”¨backup:é¿å…ç»™aæ›´æ–°åç«‹é©¬æ›´æ–°b,è¿™æ ·bä¸€æ¬¡æ€§æœ€çŸ­è·¯å¾„å°±å¤šäº†ä¸¤æ¡è¾¹å‡ºæ¥
        }

    }
    if(dist[n]&gt;0x3f3f3f3f/2) return -1;
    else return dist[n];

}

int main(){
    scanf(&quot;%d%d%d&quot;,&amp;n,&amp;m,&amp;k);
    for(int i=0;i&lt;m;i++){
        int a,b,w;
        scanf(&quot;%d%d%d&quot;,&amp;a,&amp;b,&amp;w);
        e[i]={a,b,w};
    }
    int res=bellman_ford();
    if(res==-1) puts(&quot;impossible&quot;);
    else cout&lt;&lt;res;


    return 0;
}
</code></pre>
<h2 id="éœ€è¦æ³¨æ„çš„æ˜¯"><strong>éœ€è¦æ³¨æ„çš„æ˜¯</strong></h2>
<ol>
<li>éœ€è¦æŠŠdistæ•°ç»„è¿›è¡Œä¸€ä¸ªå¤‡ä»½ï¼Œè¿™æ ·é˜²æ­¢æ¯æ¬¡æ›´æ–°çš„æ—¶å€™å‡ºç°ä¸²è”ï¼›</li>
<li>ç”±äºå­˜åœ¨è´Ÿæƒè¾¹ï¼Œå› æ­¤return -1çš„æ¡ä»¶å°±è¦æ”¹æˆdist[n]&gt;0x3f3f3f3f/2;</li>
<li>ä¸Šé¢æ‰€è°“çš„næ¬¡éå†çš„å®é™…å«ä¹‰æ˜¯å½“å‰çš„æœ€çŸ­è·¯å¾„æœ€å¤šæœ‰n-1æ¡è¾¹ï¼Œè¿™ä¹Ÿå°±è§£é‡Šäº†ä¸ºå•¥è¦iéå†åˆ°nçš„æ—¶å€™é€€å‡ºå¾ªç¯äº†ï¼Œå› ä¸ºåªæœ‰nä¸ªç‚¹,æœ€çŸ­è·¯å¾„æ— ç¯æœ€å¤šå°±å­˜åœ¨n-1æ¡è¾¹ã€‚</li>
<li>è¿™é‡Œæ— éœ€å¯¹é‡è¾¹å’Œè‡ªç¯åšå•ç‹¬çš„å¤„ç†ï¼š<br>
<code>1] é‡è¾¹ï¼šç”±äºéå†äº†æ‰€æœ‰çš„è¾¹ï¼Œæ€»ä¼šéå†åˆ°è¾ƒçŸ­çš„é‚£ä¸€æ¡; 2] è‡ªç¯: æœ‰è‡ªç¯å°±æœ‰è‡ªç¯å•Šï¼Œåæ­£åˆä¸ä¼šæ­»å¾ªç¯;</code></li>
<li>ä»¤äººæ„‰æ‚¦çš„æ˜¯ï¼Œè¯¥ç®—æ³•æ— éå°±æ˜¯å¾ªç¯næ¬¡ç„¶åéå†æ‰€æœ‰çš„è¾¹ï¼Œå› æ­¤ä¸éœ€è¦åšä»€ä¹ˆç‰¹åˆ«çš„å­˜å‚¨ï¼Œåªè¦æŠŠæ‰€æœ‰çš„è¾¹çš„ä¿¡æ¯å­˜ä¸‹æ¥èƒ½å¤Ÿéå†å°±è¡Œ;<br>
6ï¼‰bellman_fordç®—æ³•å¯ä»¥å­˜åœ¨è´Ÿæƒå›è·¯ï¼Œå› ä¸ºå®ƒæ±‚å¾—çš„æœ€çŸ­è·¯æ˜¯æœ‰é™åˆ¶çš„ï¼Œæ˜¯é™åˆ¶äº†è¾¹æ•°çš„ï¼Œè¿™æ ·ä¸ä¼šæ°¸ä¹…çš„èµ°ä¸‹å»ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªè§£ï¼›<br>
7)SPFAç®—æ³•å„æ–¹é¢ä¼˜äºè¯¥ç®—æ³•ï¼Œä½†æ˜¯åœ¨ç¢°åˆ°é™åˆ¶äº†æœ€çŸ­è·¯å¾„ä¸Šè¾¹çš„é•¿åº¦æ—¶å°±åªèƒ½ç”¨bellman_fordäº†ï¼Œæ­¤æ—¶ç›´æ¥æŠŠné‡å¾ªç¯æ”¹æˆkæ¬¡å¾ªç¯å³å¯</li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æœ´ç´ çš„Dijkstraç®—æ³•]]></title>
        <id>https://Leo-aiolia-bao.github.io/post/po-su-de-dijkstra-suan-fa/</id>
        <link href="https://Leo-aiolia-bao.github.io/post/po-su-de-dijkstra-suan-fa/">
        </link>
        <updated>2021-02-04T08:43:10.000Z</updated>
        <content type="html"><![CDATA[<pre><code>æ—¥æœŸï¼š2021å¹´2æœˆ4æ—¥
æ—¶é—´ï¼š16ç‚¹53åˆ†
ğŸ˜…ğŸ€ğŸ€ğŸ•”
</code></pre>
<p><strong>é¢˜ç›®</strong></p>
<pre><code class="language-c">ç»™å®šä¸€ä¸ªnä¸ªç‚¹mæ¡è¾¹çš„æœ‰å‘å›¾ï¼Œå›¾ä¸­å¯èƒ½å­˜åœ¨é‡è¾¹å’Œè‡ªç¯ï¼Œæ‰€æœ‰è¾¹æƒå‡ä¸ºæ­£å€¼ã€‚

è¯·ä½ æ±‚å‡º1å·ç‚¹åˆ°nå·ç‚¹çš„æœ€çŸ­è·ç¦»ï¼Œå¦‚æœæ— æ³•ä»1å·ç‚¹èµ°åˆ°nå·ç‚¹ï¼Œåˆ™è¾“å‡º-1ã€‚

è¾“å…¥æ ¼å¼
ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•°nå’Œmã€‚

æ¥ä¸‹æ¥mè¡Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•°xï¼Œyï¼Œzï¼Œè¡¨ç¤ºå­˜åœ¨ä¸€æ¡ä»ç‚¹xåˆ°ç‚¹yçš„æœ‰å‘è¾¹ï¼Œè¾¹é•¿ä¸ºzã€‚

è¾“å‡ºæ ¼å¼
è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º1å·ç‚¹åˆ°nå·ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚

å¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º-1ã€‚

æ•°æ®èŒƒå›´
1â‰¤nâ‰¤500,
1â‰¤mâ‰¤105,
å›¾ä¸­æ¶‰åŠè¾¹é•¿å‡ä¸è¶…è¿‡10000ã€‚

è¾“å…¥æ ·ä¾‹ï¼š
3 3
1 2 2
2 3 1
1 3 4
è¾“å‡ºæ ·ä¾‹ï¼š
3

</code></pre>
<p><strong>ä»¥ä¸‹ä¸ºå®Œæ•´ä»£ç </strong></p>
<pre><code class="language-c">#include&lt;iostream&gt;
#include&lt;algorithm&gt;
#include&lt;cstring&gt;
using namespace std;

const int N=510;

int g[N][N];    //ä¸ºç¨ å¯†é˜µæ‰€ä»¥ç”¨é‚»æ¥çŸ©é˜µå­˜å‚¨
int dist[N];    //ç”¨äºè®°å½•æ¯ä¸€ä¸ªç‚¹è·ç¦»ç¬¬ä¸€ä¸ªç‚¹çš„è·ç¦»
bool st[N];     //ç”¨äºè®°å½•è¯¥ç‚¹çš„æœ€çŸ­è·ç¦»æ˜¯å¦å·²ç»ç¡®å®š

int n,m;

int Dijkstra()
{
    memset(dist, 0x3f,sizeof dist);     //åˆå§‹åŒ–è·ç¦»  0x3fä»£è¡¨æ— é™å¤§

    dist[1]=0;  //ç¬¬ä¸€ä¸ªç‚¹åˆ°è‡ªèº«çš„è·ç¦»ä¸º0

    for(int i=0;i&lt;n;i++)      //æœ‰nä¸ªç‚¹æ‰€ä»¥è¦è¿›è¡Œnæ¬¡ è¿­ä»£
    {
        int t=-1;       //tå­˜å‚¨å½“å‰è®¿é—®çš„ç‚¹

        for(int j=1;j&lt;=n;j++)   //è¿™é‡Œçš„jä»£è¡¨çš„æ˜¯ä»1å·ç‚¹å¼€å§‹
            if(!st[j]&amp;&amp;(t==-1||dist[t]&gt;dist[j]))     
                t=j;

        st[t]=true;   

        for(int j=1;j&lt;=n;j++)           //ä¾æ¬¡æ›´æ–°æ¯ä¸ªç‚¹æ‰€åˆ°ç›¸é‚»çš„ç‚¹è·¯å¾„å€¼
            dist[j]=min(dist[j],dist[t]+g[t][j]);
    }

    if(dist[n]==0x3f3f3f3f) return -1;  //å¦‚æœç¬¬nä¸ªç‚¹è·¯å¾„ä¸ºæ— ç©·å¤§å³ä¸å­˜åœ¨æœ€ä½è·¯å¾„
    return dist[n];
}
int main()
{
    cin&gt;&gt;n&gt;&gt;m;

    memset(g,0x3f,sizeof g);    //åˆå§‹åŒ–å›¾ å› ä¸ºæ˜¯æ±‚æœ€çŸ­è·¯å¾„
                                //æ‰€ä»¥æ¯ä¸ªç‚¹åˆå§‹ä¸ºæ— é™å¤§

    while(m--)
    {
        int x,y,z;
        cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
        g[x][y]=min(g[x][y],z);     //å¦‚æœå‘ç”Ÿé‡è¾¹çš„æƒ…å†µåˆ™ä¿ç•™æœ€çŸ­çš„ä¸€æ¡è¾¹
    }

    cout&lt;&lt;Dijkstra()&lt;&lt;endl;
    return 0;
}


</code></pre>
<p>**æ€è·¯ç¬”è®° **<br>
æœ‰ä¹‹å‰å®½æœå’Œæ·±æœçš„åŸºç¡€  å°±æ„Ÿè§‰æ€è·¯ç‰¹åˆ«æ¸…æ™°äº†</p>
<p>æœ€è¿‘å¤ä¹ äº†ä¸‹<code>Dijkstra</code> å‘ç°ä¹‹å‰çš„ç†è§£è¿˜æ˜¯æœ‰äº›ä¸å¤ªåˆ°ä½<br>
æ‰€ä»¥æ›´æ–°äº†ä¸€ä¸‹ å¸Œæœ›èƒ½å¸®åŠ©ä¸€èµ·å­¦ç®—æ³•çš„å°ä¼™ä¼´ç†æ¸…æ€è·¯</p>
<p><code>Dijkstra</code>  çš„æ•´ä½“æ€è·¯æ¯”è¾ƒæ¸…æ™°<br>
å³è¿›è¡Œ<code>nï¼ˆnä¸ºnçš„ä¸ªæ•°ï¼‰</code>æ¬¡è¿­ä»£å»ç¡®å®šæ¯ä¸ªç‚¹åˆ°èµ·ç‚¹çš„æœ€å°å€¼ æœ€åè¾“å‡ºçš„ç»ˆç‚¹çš„å³ä¸ºæˆ‘ä»¬è¦æ‰¾çš„æœ€çŸ­è·¯çš„è·ç¦»</p>
<p>æ‰€ä»¥æŒ‰ç…§è¿™ä¸ªæ€è·¯é™¤äº†å­˜å‚¨å›¾å¤–æˆ‘ä»¬è¿˜éœ€è¦å­˜å‚¨ä¸¤ä¸ªé‡</p>
<p><code>dist[n]</code>//ç”¨äºå­˜å‚¨æ¯ä¸ªç‚¹åˆ°èµ·ç‚¹çš„æœ€çŸ­è·ç¦»<br>
<code>st[n]</code>  //ç”¨äºåœ¨æ›´æ–°æœ€çŸ­è·ç¦»æ—¶ åˆ¤æ–­å½“å‰çš„ç‚¹çš„æœ€çŸ­è·ç¦»æ˜¯å¦ç¡®å®š æ˜¯å¦éœ€è¦æ›´æ–°</p>
<p>æ¯æ¬¡è¿­ä»£çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬éƒ½å…ˆæ‰¾åˆ°å½“å‰æœªç¡®å®šçš„æœ€çŸ­è·ç¦»çš„ç‚¹ä¸­è·ç¦»æœ€çŸ­çš„ç‚¹<br>
ï¼ˆè‡³äºä¸ºä»€ä¹ˆæ˜¯è¿™æ ·é‚£ä¹ˆè¿™å°±æ¶‰åŠåˆ°<code>Dijkstraç®—æ³•</code>çš„å…·ä½“æ•°å­¦è¯æ˜äº† æœ‰å…´è¶£çš„åŒå­¦å¯ä»¥ç™¾åº¦ä¸€ä¸‹ï¼‰</p>
<pre><code class="language-c">int t=-1;       //å°†tè®¾ç½®ä¸º-1 å› ä¸ºDijkstraç®—æ³•é€‚ç”¨äºä¸å­˜åœ¨è´Ÿæƒè¾¹çš„å›¾
for(int j=1;j&lt;=n;j++)
{
    if(!st[j]&amp;&amp;(t==-1||dist[t]&gt;dist[j])    //è¯¥æ­¥éª¤å³å¯»æ‰¾è¿˜æœªç¡®å®šæœ€çŸ­è·¯çš„ç‚¹ä¸­è·¯å¾„æœ€çŸ­çš„ç‚¹
        t=j;
}
</code></pre>
<p>é€šè¿‡ä¸Šè¿°æ“ä½œå½“å‰æˆ‘ä»¬çš„tä»£è¡¨å°±æ˜¯å‰©ä½™æœªç¡®å®šæœ€çŸ­è·¯çš„ç‚¹ä¸­ è·¯å¾„æœ€çŸ­çš„ç‚¹<br>
è€Œä¸æ­¤åŒæ—¶è¯¥ç‚¹çš„æœ€çŸ­è·¯å¾„ä¹Ÿå·²ç»ç¡®å®šæˆ‘ä»¬å°†è¯¥ç‚¹æ ‡è®°</p>
<p><code>st[t]=true;</code></p>
<p>ç„¶åç”¨è¿™ä¸ªå»æ›´æ–°å…¶ä½™æœªç¡®å®šç‚¹çš„æœ€çŸ­è·ç¦»</p>
<p><code>for(int j=1;j&lt;=n;j++)</code><br>
<code>dist[j]=min(dist[j],dist[t]+g[t][j]);</code><br>
//è¿™é‡Œå¯èƒ½æœ‰åŒå­¦è¦é—®jå¦‚æœä»1å¼€å§‹çš„è¯ ä¼šä¸ä¼šå½±å“ä¹‹å‰å·²ç»ç¡®å®šçš„ç‚¹çš„æœ€å°è·ç¦»<br>
//ä½†å…¶å®æ˜¯ä¸ä¼š å› ä¸ºæŒ‰ç…§æˆ‘ä»¬çš„Dijkstraç®—æ³•çš„æ“ä½œé¡ºåº å…ˆç¡®å®šæœ€çŸ­è·ç¦»çš„ç‚¹çš„è·ç¦»å·²ç»æ¯”åç¡®å®šçš„è¦å° æ‰€ä»¥ä¸ä¼šå½±å“<br>
//å½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨å¾ªç¯åˆ¤æ–­æ¡ä»¶é‡ŒåŠ ä¸Š<code>if(!st[i])</code><br>
//è¿™é‡Œjä»1å¼€å§‹åªæ˜¯ä¸ºäº†ä»£ç çš„ç®€æ´</p>
<p>è¿›è¡Œnæ¬¡è¿­ä»£åæœ€åå°±å¯ä»¥ç¡®å®šæ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»<br>
ç„¶åå†æ ¹æ®é¢˜æ„è¾“å‡ºç›¸åº”çš„ è¦æ±‚çš„æœ€çŸ­è·ç¦»</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[äº”åˆ†é’Ÿæ­å»ºè‡ªå·±çš„åšå®¢-github+grideaæ­å»ºåšå®¢å’Œç»‘å®šåŸŸå]]></title>
        <id>https://Leo-aiolia-bao.github.io/post/wu-fen-zhong-da-jian-zi-ji-de-bo-ke/</id>
        <link href="https://Leo-aiolia-bao.github.io/post/wu-fen-zhong-da-jian-zi-ji-de-bo-ke/">
        </link>
        <updated>2021-02-04T08:27:00.000Z</updated>
        <content type="html"><![CDATA[<p>å‡ ä¸ªæ•™ç¨‹å¦‚ä¸‹ï¼šæŒ‰éƒ¨å°±ç­æ“ä½œå³å¯</p>
<p><a href="https://www.luogu.com.cn/blog/ak-ioi/building-a-blog/">git åŠ Gridea æ•™ç¨‹</a></p>
<p><a href="https://gridea.dev/gridea-start/">Grideaå®˜ç½‘æ•™ç¨‹</a></p>
<p><a href="%5BGridea%E5%AE%98%E7%BD%91%E6%95%99%E7%A8%8B%5D(https://gridea.dev/gridea-start/)">ä¸é”™çš„csdnæ•™ç¨‹</a></p>
<p>æˆ‘è¸©å¾—å‘ï¼š <strong>åŸŸå</strong>å’Œ<strong>ä»“åº“</strong>åå­— ä¸ä¸€è‡´ï¼Œå¯¼è‡´æŠ˜è…¾åŠå¤©æ‰¾ä¸åˆ°è‡ªå·±çš„åšå®¢ç½‘ç«™</p>
<p>å¦‚åŸŸåï¼šhttps://getridea.github.io<br>
ä»“åº“ï¼šgetgridea.github.io</p>
<p>è¿™æ ·å³å¯ ï¼Œ<br>
è€Œä¸‹é¢ä¸å¯</p>
<p>å¦‚åŸŸåï¼šhttps://getridea.github.io<br>
ä»“åº“ï¼šmyblog.github.io</p>
]]></content>
    </entry>
</feed>